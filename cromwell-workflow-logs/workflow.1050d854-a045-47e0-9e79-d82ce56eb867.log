2018-10-15 16:35:07,761 INFO  - 1050d854-a045-47e0-9e79-d82ce56eb867-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(1050d854)]: Starting Mutect2.SplitIntervals
2018-10-15 16:35:08,542 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.SplitIntervals:NA:1]: `set -e
export GATK_LOCAL_JAR=/root/gatk.jar

mkdir interval-files
gatk --java-options "-Xmx3000m" SplitIntervals \
    -R /cromwell_root/gatk-legacy-bundles/b37/human_g1k_v37_decoy.fasta \
    -L /cromwell_root/gatk-best-practices/somatic-b37/whole_exome_agilent_1.1_refseq_plus_3_boosters.Homo_sapiens_assembly19.baits.interval_list \
    -scatter 1 \
    -O interval-files \
    
cp interval-files/*.intervals .`
2018-10-15 16:35:08,831 INFO  - 1050d854-a045-47e0-9e79-d82ce56eb867-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(1050d854)]: Starting Mutect2.CollectSequencingArtifactMetrics
2018-10-15 16:35:09,534 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.CollectSequencingArtifactMetrics:NA:1]: `set -e
export GATK_LOCAL_JAR=/root/gatk.jar
gatk --java-options "-Xmx6000m" CollectSequencingArtifactMetrics \
    -I /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/239b7775-76cf-4279-a8d9-d38e68e5e871/call-PreProcessTumor/PreProcess.PreProcessingForVariantDiscovery_GATK4/6c6fc681-d255-4a08-b580-b9ba5b175d2b/call-GatherBamFiles/NGB0-075-KOD-NEB-18-2.b37.bam -O "gatk" -R /cromwell_root/gatk-legacy-bundles/b37/human_g1k_v37_decoy.fasta -VALIDATION_STRINGENCY LENIENT`
2018-10-15 16:35:45,743 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.SplitIntervals:NA:1]: job id: operations/EKDXm7XnLBj7uv7H2Zy80WYgyJGInf8LKg9wcm9kdWN0aW9uUXVldWU
2018-10-15 16:35:45,743 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.CollectSequencingArtifactMetrics:NA:1]: job id: operations/EJ3Xm7XnLBiuuqixtNnAnkMgyJGInf8LKg9wcm9kdWN0aW9uUXVldWU
2018-10-15 16:36:14,403 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.CollectSequencingArtifactMetrics:NA:1]: Status change from - to Running
2018-10-15 16:36:14,407 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.SplitIntervals:NA:1]: Status change from - to Running
2018-10-15 16:41:18,282 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.CollectSequencingArtifactMetrics:NA:1]: Status change from Running to Success
2018-10-15 16:42:25,290 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.SplitIntervals:NA:1]: Status change from Running to Success
2018-10-15 16:42:30,390 INFO  - 1050d854-a045-47e0-9e79-d82ce56eb867-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(1050d854)]: Starting Mutect2.M2
2018-10-15 16:42:30,543 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.M2:0:1]: `set -e

export GATK_LOCAL_JAR=/root/gatk.jar

# We need to create these files regardless, even if they stay empty
touch bamout.bam
echo "" > normal_name.txt

gatk --java-options "-Xmx3000m" GetSampleName -R /cromwell_root/gatk-legacy-bundles/b37/human_g1k_v37_decoy.fasta -I /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/239b7775-76cf-4279-a8d9-d38e68e5e871/call-PreProcessTumor/PreProcess.PreProcessingForVariantDiscovery_GATK4/6c6fc681-d255-4a08-b580-b9ba5b175d2b/call-GatherBamFiles/NGB0-075-KOD-NEB-18-2.b37.bam -O tumor_name.txt -encode
tumor_command_line="-I /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/239b7775-76cf-4279-a8d9-d38e68e5e871/call-PreProcessTumor/PreProcess.PreProcessingForVariantDiscovery_GATK4/6c6fc681-d255-4a08-b580-b9ba5b175d2b/call-GatherBamFiles/NGB0-075-KOD-NEB-18-2.b37.bam -tumor `cat tumor_name.txt`"

if [[ -f "" ]]; then
    gatk --java-options "-Xmx3000m" GetSampleName -R /cromwell_root/gatk-legacy-bundles/b37/human_g1k_v37_decoy.fasta -I  -O normal_name.txt -encode
    normal_command_line="-I  -normal `cat normal_name.txt`"
fi

gatk --java-options "-Xmx3000m" Mutect2 \
    -R /cromwell_root/gatk-legacy-bundles/b37/human_g1k_v37_decoy.fasta \
    $tumor_command_line \
    $normal_command_line \
     \
     \
    -L /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/239b7775-76cf-4279-a8d9-d38e68e5e871/call-M2Pair/M2.Mutect2/1050d854-a045-47e0-9e79-d82ce56eb867/call-SplitIntervals/glob-6f4bc12a708659d4f5f3eecd1cdffff7/0000-scattered.intervals \
     \
    -O "output.vcf" \
     \
     \`
2018-10-15 16:43:00,742 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.M2:0:1]: job id: operations/EPKztrXnLBiV6ri1zO3mx_cBIMiRiJ3_CyoPcHJvZHVjdGlvblF1ZXVl
2018-10-15 16:43:32,903 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.M2:0:1]: Status change from - to Running
2018-10-15 16:51:22,348 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.M2:0:1]: Status change from Running to Success
2018-10-15 16:51:34,780 INFO  - 1050d854-a045-47e0-9e79-d82ce56eb867-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(1050d854)]: Starting Mutect2.SumSubVcfs
2018-10-15 16:51:35,542 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.SumSubVcfs:NA:1]: `python -c "print 1.3105E-5"`
2018-10-15 16:52:00,753 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.SumSubVcfs:NA:1]: job id: operations/ELSY17XnLBiep4b00OmZ6LoBIMiRiJ3_CyoPcHJvZHVjdGlvblF1ZXVl
2018-10-15 16:52:29,655 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.SumSubVcfs:NA:1]: Status change from - to Running
2018-10-15 16:54:44,117 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.SumSubVcfs:NA:1]: Status change from Running to Success
2018-10-15 16:54:48,231 INFO  - 1050d854-a045-47e0-9e79-d82ce56eb867-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(1050d854)]: Starting Mutect2.MergeVCFs
2018-10-15 16:54:48,539 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.MergeVCFs:NA:1]: `set -e
export GATK_LOCAL_JAR=/root/gatk.jar
gatk --java-options "-Xmx2500m" MergeVcfs -I /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/239b7775-76cf-4279-a8d9-d38e68e5e871/call-M2Pair/M2.Mutect2/1050d854-a045-47e0-9e79-d82ce56eb867/call-M2/shard-0/output.vcf -O NGB0-075-KOD-NEB-18-2.b37-unfiltered.vcf`
2018-10-15 16:55:20,732 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.MergeVCFs:NA:1]: job id: operations/ELq_47XnLBism6HzwtKnp2AgyJGInf8LKg9wcm9kdWN0aW9uUXVldWU
2018-10-15 16:55:51,582 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.MergeVCFs:NA:1]: Status change from - to Running
2018-10-15 17:00:20,589 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.MergeVCFs:NA:1]: Status change from Running to Success
2018-10-15 17:00:27,621 INFO  - 1050d854-a045-47e0-9e79-d82ce56eb867-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(1050d854)]: Starting Mutect2.Filter
2018-10-15 17:00:28,543 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.Filter:NA:1]: `set -e

export GATK_LOCAL_JAR=/root/gatk.jar

gatk --java-options "-Xmx6500m" FilterMutectCalls -V /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/239b7775-76cf-4279-a8d9-d38e68e5e871/call-M2Pair/M2.Mutect2/1050d854-a045-47e0-9e79-d82ce56eb867/call-MergeVCFs/NGB0-075-KOD-NEB-18-2.b37-unfiltered.vcf \
   -O NGB0-075-KOD-NEB-18-2.b37-filtered.vcf \
    \
    \`
2018-10-15 17:00:55,746 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.Filter:NA:1]: job id: operations/EIOB-LXnLBiysaTF9rqY9R8gyJGInf8LKg9wcm9kdWN0aW9uUXVldWU
2018-10-15 17:01:27,482 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.Filter:NA:1]: Status change from - to Running
2018-10-15 17:04:49,519 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.Filter:NA:1]: Status change from Running to Success
2018-10-15 17:04:57,670 INFO  - 1050d854-a045-47e0-9e79-d82ce56eb867-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(1050d854)]: Starting Mutect2.FilterByOrientationBias
2018-10-15 17:04:58,544 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.FilterByOrientationBias:NA:1]: `set -e

export GATK_LOCAL_JAR=/root/gatk.jar

gatk --java-options "-Xmx6500m" FilterByOrientationBias \
    -V /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/239b7775-76cf-4279-a8d9-d38e68e5e871/call-M2Pair/M2.Mutect2/1050d854-a045-47e0-9e79-d82ce56eb867/call-Filter/NGB0-075-KOD-NEB-18-2.b37-filtered.vcf \
    -AM G/T -AM C/T \
    -P /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/239b7775-76cf-4279-a8d9-d38e68e5e871/call-M2Pair/M2.Mutect2/1050d854-a045-47e0-9e79-d82ce56eb867/call-CollectSequencingArtifactMetrics/gatk.pre_adapter_detail_metrics \
    -O NGB0-075-KOD-NEB-18-2.b37-filtered.vcf`
2018-10-15 17:05:25,731 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.FilterByOrientationBias:NA:1]: job id: operations/EKW6iLbnLBiAs4P4pbn8wJEBIMiRiJ3_CyoPcHJvZHVjdGlvblF1ZXVl
2018-10-15 17:05:56,723 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.FilterByOrientationBias:NA:1]: Status change from - to Running
2018-10-15 17:09:18,067 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(1050d854)Mutect2.FilterByOrientationBias:NA:1]: Status change from Running to Success
2018-10-15 17:09:22,753 INFO  - 1050d854-a045-47e0-9e79-d82ce56eb867-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(1050d854)]: Workflow M2.Mutect2 complete. Final Outputs:
{
  "Mutect2.filtered_vcf": "gs://ngb_cloud/cromwell-execution/FullPipeline/239b7775-76cf-4279-a8d9-d38e68e5e871/call-M2Pair/M2.Mutect2/1050d854-a045-47e0-9e79-d82ce56eb867/call-FilterByOrientationBias/NGB0-075-KOD-NEB-18-2.b37-filtered.vcf",
  "Mutect2.preadapter_detail_metrics": "gs://ngb_cloud/cromwell-execution/FullPipeline/239b7775-76cf-4279-a8d9-d38e68e5e871/call-M2Pair/M2.Mutect2/1050d854-a045-47e0-9e79-d82ce56eb867/call-CollectSequencingArtifactMetrics/gatk.pre_adapter_detail_metrics",
  "Mutect2.filtered_vcf_index": "gs://ngb_cloud/cromwell-execution/FullPipeline/239b7775-76cf-4279-a8d9-d38e68e5e871/call-M2Pair/M2.Mutect2/1050d854-a045-47e0-9e79-d82ce56eb867/call-FilterByOrientationBias/NGB0-075-KOD-NEB-18-2.b37-filtered.vcf.idx",
  "Mutect2.bamout": null,
  "Mutect2.oncotated_m2_maf": null,
  "Mutect2.contamination_table": null,
  "Mutect2.funcotated_maf": null,
  "Mutect2.maf_segments": null,
  "Mutect2.bamout_index": null
}
