2018-10-12 21:08:16,784 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Starting Mutect2.SplitIntervals
2018-10-12 21:08:17,632 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.SplitIntervals:NA:1]: `set -e
export GATK_LOCAL_JAR=/root/gatk.jar

mkdir interval-files
gatk --java-options "-Xmx3000m" SplitIntervals \
    -R /cromwell_root/gatk-legacy-bundles/b37/human_g1k_v37_decoy.fasta \
    -L /cromwell_root/gatk-best-practices/somatic-b37/whole_exome_agilent_1.1_refseq_plus_3_boosters.Homo_sapiens_assembly19.baits.interval_list \
    -scatter 1 \
    -O interval-files \
    
cp interval-files/*.intervals .`
2018-10-12 21:08:17,893 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Starting Mutect2.CollectSequencingArtifactMetrics
2018-10-12 21:08:18,631 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.CollectSequencingArtifactMetrics:NA:1]: `set -e
export GATK_LOCAL_JAR=/root/gatk.jar
gatk --java-options "-Xmx6000m" CollectSequencingArtifactMetrics \
    -I /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/f909c483-967c-409a-b2fb-bbdfeca5ab9f/call-PreProcessTumor/PreProcess.PreProcessingForVariantDiscovery_GATK4/75f50a51-422f-46f3-ab2b-e98184c0328d/call-GatherBamFiles/NGB0-075-KOD-NEB-18-2.b37.bam -O "gatk" -R /cromwell_root/gatk-legacy-bundles/b37/human_g1k_v37_decoy.fasta -VALIDATION_STRINGENCY LENIENT`
2018-10-12 21:08:49,716 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.SplitIntervals:NA:1]: job id: operations/EOfKt8HmLBjhoP-I6_Dq7gEgyJGInf8LKg9wcm9kdWN0aW9uUXVldWU
2018-10-12 21:08:49,716 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.CollectSequencingArtifactMetrics:NA:1]: job id: operations/ENTKt8HmLBiJ_6Ch7L604X8gyJGInf8LKg9wcm9kdWN0aW9uUXVldWU
2018-10-12 21:09:22,393 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.SplitIntervals:NA:1]: Status change from - to Running
2018-10-12 21:09:22,398 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.CollectSequencingArtifactMetrics:NA:1]: Status change from - to Running
2018-10-12 21:13:52,489 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.SplitIntervals:NA:1]: Status change from Running to Success
2018-10-12 21:13:57,514 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Starting Mutect2.M2
2018-10-12 21:13:57,636 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.M2:0:1]: `set -e

export GATK_LOCAL_JAR=/root/gatk.jar

# We need to create these files regardless, even if they stay empty
touch bamout.bam
echo "" > normal_name.txt

gatk --java-options "-Xmx3000m" GetSampleName -R /cromwell_root/gatk-legacy-bundles/b37/human_g1k_v37_decoy.fasta -I /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/f909c483-967c-409a-b2fb-bbdfeca5ab9f/call-PreProcessTumor/PreProcess.PreProcessingForVariantDiscovery_GATK4/75f50a51-422f-46f3-ab2b-e98184c0328d/call-GatherBamFiles/NGB0-075-KOD-NEB-18-2.b37.bam -O tumor_name.txt -encode
tumor_command_line="-I /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/f909c483-967c-409a-b2fb-bbdfeca5ab9f/call-PreProcessTumor/PreProcess.PreProcessingForVariantDiscovery_GATK4/75f50a51-422f-46f3-ab2b-e98184c0328d/call-GatherBamFiles/NGB0-075-KOD-NEB-18-2.b37.bam -tumor `cat tumor_name.txt`"

if [[ -f "" ]]; then
    gatk --java-options "-Xmx3000m" GetSampleName -R /cromwell_root/gatk-legacy-bundles/b37/human_g1k_v37_decoy.fasta -I  -O normal_name.txt -encode
    normal_command_line="-I  -normal `cat normal_name.txt`"
fi

gatk --java-options "-Xmx3000m" Mutect2 \
    -R /cromwell_root/gatk-legacy-bundles/b37/human_g1k_v37_decoy.fasta \
    $tumor_command_line \
    $normal_command_line \
     \
     \
    -L /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/f909c483-967c-409a-b2fb-bbdfeca5ab9f/call-M2Pair/M2.Mutect2/5b551b6a-86de-4765-8eac-2be7f4552213/call-SplitIntervals/glob-6f4bc12a708659d4f5f3eecd1cdffff7/0000-scattered.intervals \
     \
    -O "output.vcf" \
     \
     \`
2018-10-12 21:14:29,705 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.M2:0:1]: job id: operations/ELGWzMHmLBifqqWP9bPNpA4gyJGInf8LKg9wcm9kdWN0aW9uUXVldWU
2018-10-12 21:14:59,420 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.M2:0:1]: Status change from - to Running
2018-10-12 21:14:59,428 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.CollectSequencingArtifactMetrics:NA:1]: Status change from Running to Success
2018-10-12 21:22:15,425 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.M2:0:1]: Status change from Running to Success
2018-10-12 21:22:28,716 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Starting Mutect2.SumSubVcfs
2018-10-12 21:22:29,634 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.SumSubVcfs:NA:1]: `python -c "print 1.3106E-5"`
2018-10-12 21:22:54,707 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.SumSubVcfs:NA:1]: job id: operations/EJP16sHmLBiQ8N3d2IObh9QBIMiRiJ3_CyoPcHJvZHVjdGlvblF1ZXVl
2018-10-12 21:23:23,224 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.SumSubVcfs:NA:1]: Status change from - to Running
2018-10-12 21:25:04,472 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.SumSubVcfs:NA:1]: Status change from Running to Success
2018-10-12 21:25:06,995 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Starting Mutect2.MergeVCFs
2018-10-12 21:25:07,628 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.MergeVCFs:NA:1]: `set -e
export GATK_LOCAL_JAR=/root/gatk.jar
gatk --java-options "-Xmx2500m" MergeVcfs -I /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/f909c483-967c-409a-b2fb-bbdfeca5ab9f/call-M2Pair/M2.Mutect2/5b551b6a-86de-4765-8eac-2be7f4552213/call-M2/shard-0/output.vcf -O NGB0-075-KOD-NEB-18-2.b37-unfiltered.vcf`
2018-10-12 21:25:39,714 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.MergeVCFs:NA:1]: job id: operations/EMCW9cHmLBjqrsfv24Lx4zogyJGInf8LKg9wcm9kdWN0aW9uUXVldWU
2018-10-12 21:26:11,247 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.MergeVCFs:NA:1]: Status change from - to Running
2018-10-12 21:30:40,436 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.MergeVCFs:NA:1]: Status change from Running to Success
2018-10-12 21:30:46,594 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Starting Mutect2.Filter
2018-10-12 21:30:46,630 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.Filter:NA:1]: `set -e

export GATK_LOCAL_JAR=/root/gatk.jar

gatk --java-options "-Xmx6500m" FilterMutectCalls -V /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/f909c483-967c-409a-b2fb-bbdfeca5ab9f/call-M2Pair/M2.Mutect2/5b551b6a-86de-4765-8eac-2be7f4552213/call-MergeVCFs/NGB0-075-KOD-NEB-18-2.b37-unfiltered.vcf \
   -O NGB0-075-KOD-NEB-18-2.b37-filtered.vcf \
    \
    \`
2018-10-12 21:31:14,716 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.Filter:NA:1]: job id: operations/ELXXicLmLBjkkqvigPqA6x8gyJGInf8LKg9wcm9kdWN0aW9uUXVldWU
2018-10-12 21:31:47,096 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.Filter:NA:1]: Status change from - to Running
2018-10-12 21:34:35,339 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.Filter:NA:1]: Status change from Running to Success
2018-10-12 21:34:46,664 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Starting Mutect2.FilterByOrientationBias
2018-10-12 21:34:47,648 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.FilterByOrientationBias:NA:1]: `set -e

export GATK_LOCAL_JAR=/root/gatk.jar

gatk --java-options "-Xmx6500m" FilterByOrientationBias \
    -V /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/f909c483-967c-409a-b2fb-bbdfeca5ab9f/call-M2Pair/M2.Mutect2/5b551b6a-86de-4765-8eac-2be7f4552213/call-Filter/NGB0-075-KOD-NEB-18-2.b37-filtered.vcf \
    -AM G/T -AM C/T \
    -P /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/f909c483-967c-409a-b2fb-bbdfeca5ab9f/call-M2Pair/M2.Mutect2/5b551b6a-86de-4765-8eac-2be7f4552213/call-CollectSequencingArtifactMetrics/gatk.pre_adapter_detail_metrics \
    -O NGB0-075-KOD-NEB-18-2.b37-filtered.vcf`
2018-10-12 21:35:14,715 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.FilterByOrientationBias:NA:1]: job id: operations/ELKNmMLmLBjt3OOQ_v3NqasBIMiRiJ3_CyoPcHJvZHVjdGlvblF1ZXVl
2018-10-12 21:35:42,997 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.FilterByOrientationBias:NA:1]: Status change from - to Running
2018-10-12 21:39:04,515 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.FilterByOrientationBias:NA:1]: Status change from Running to Success
2018-10-12 21:39:12,385 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Starting Mutect2.oncotate_m2
2018-10-12 21:39:14,557 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:1]: `# fail if *any* command below (not just the last) doesn't return 0, in particular if wget fails
set -e

# local db dir is a directory and has been specified
if [[ -d "" ]]; then
    echo "Using local db-dir: "
    echo "THIS ONLY WORKS WITHOUT DOCKER!"
    ln -s  onco_dbdir
elif [[ "" == *.tar.gz ]]; then
    echo "Using given tar file: "
    mkdir onco_dbdir
    tar zxvf  -C onco_dbdir --strip-components 1
else
    echo "Downloading and installing oncotator datasources from Broad FTP site..."
    # Download and untar the db-dir
    wget ftp://gsapubftp-anonymous@ftp.broadinstitute.org/bundle/oncotator/oncotator_v1_ds_April052016.tar.gz
    tar zxvf oncotator_v1_ds_April052016.tar.gz
    ln -s oncotator_v1_ds_April052016 onco_dbdir
fi

/root/oncotator_venv/bin/oncotator --db-dir onco_dbdir/ -c $HOME/tx_exact_uniprot_matches.AKT1_CRLF2_FGFR1.txt  \
    -v /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/f909c483-967c-409a-b2fb-bbdfeca5ab9f/call-M2Pair/M2.Mutect2/5b551b6a-86de-4765-8eac-2be7f4552213/call-FilterByOrientationBias/NGB0-075-KOD-NEB-18-2.b37-filtered.vcf NGB0-075-KOD-NEB-18-2.maf.annotated hg19 -i VCF -o TCGAMAF --skip-no-alt --collapse-number-annotations --log_name oncotator.log \
    -a Center:BI \
    -a source:Unknown \
    -a normal_barcode: \
    -a tumor_barcode:NGB0-075-KOD-NEB-18-2 \
     \
     --collapse-filter-cols --prune-filter-cols  \`
2018-10-12 21:39:39,716 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:1]: job id: operations/EILCqMLmLBi5r6ft7uu44n8gyJGInf8LKg9wcm9kdWN0aW9uUXVldWU
2018-10-12 21:40:12,135 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:1]: Status change from - to Running
2018-10-12 22:03:05,597 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:1]: Status change from Running to Failed
2018-10-12 22:03:09,709 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Retrying job execution for Mutect2.oncotate_m2:NA:2
2018-10-12 22:03:09,725 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Starting Mutect2.oncotate_m2
2018-10-12 22:03:10,637 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:2]: `# fail if *any* command below (not just the last) doesn't return 0, in particular if wget fails
set -e

# local db dir is a directory and has been specified
if [[ -d "" ]]; then
    echo "Using local db-dir: "
    echo "THIS ONLY WORKS WITHOUT DOCKER!"
    ln -s  onco_dbdir
elif [[ "" == *.tar.gz ]]; then
    echo "Using given tar file: "
    mkdir onco_dbdir
    tar zxvf  -C onco_dbdir --strip-components 1
else
    echo "Downloading and installing oncotator datasources from Broad FTP site..."
    # Download and untar the db-dir
    wget ftp://gsapubftp-anonymous@ftp.broadinstitute.org/bundle/oncotator/oncotator_v1_ds_April052016.tar.gz
    tar zxvf oncotator_v1_ds_April052016.tar.gz
    ln -s oncotator_v1_ds_April052016 onco_dbdir
fi

/root/oncotator_venv/bin/oncotator --db-dir onco_dbdir/ -c $HOME/tx_exact_uniprot_matches.AKT1_CRLF2_FGFR1.txt  \
    -v /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/f909c483-967c-409a-b2fb-bbdfeca5ab9f/call-M2Pair/M2.Mutect2/5b551b6a-86de-4765-8eac-2be7f4552213/call-FilterByOrientationBias/NGB0-075-KOD-NEB-18-2.b37-filtered.vcf NGB0-075-KOD-NEB-18-2.maf.annotated hg19 -i VCF -o TCGAMAF --skip-no-alt --collapse-number-annotations --log_name oncotator.log \
    -a Center:BI \
    -a source:Unknown \
    -a normal_barcode: \
    -a tumor_barcode:NGB0-075-KOD-NEB-18-2 \
     \
     --collapse-filter-cols --prune-filter-cols  \`
2018-10-12 22:03:39,716 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:2]: job id: operations/EM-2gMPmLBjZtorH5rPMtAUgyJGInf8LKg9wcm9kdWN0aW9uUXVldWU
2018-10-12 22:04:13,037 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:2]: Status change from - to Running
2018-10-12 22:24:51,668 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:2]: Status change from Running to Preempted
2018-10-12 22:24:54,737 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Retrying job execution for Mutect2.oncotate_m2:NA:3
2018-10-12 22:24:55,555 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Starting Mutect2.oncotate_m2
2018-10-12 22:24:55,627 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:3]: `# fail if *any* command below (not just the last) doesn't return 0, in particular if wget fails
set -e

# local db dir is a directory and has been specified
if [[ -d "" ]]; then
    echo "Using local db-dir: "
    echo "THIS ONLY WORKS WITHOUT DOCKER!"
    ln -s  onco_dbdir
elif [[ "" == *.tar.gz ]]; then
    echo "Using given tar file: "
    mkdir onco_dbdir
    tar zxvf  -C onco_dbdir --strip-components 1
else
    echo "Downloading and installing oncotator datasources from Broad FTP site..."
    # Download and untar the db-dir
    wget ftp://gsapubftp-anonymous@ftp.broadinstitute.org/bundle/oncotator/oncotator_v1_ds_April052016.tar.gz
    tar zxvf oncotator_v1_ds_April052016.tar.gz
    ln -s oncotator_v1_ds_April052016 onco_dbdir
fi

/root/oncotator_venv/bin/oncotator --db-dir onco_dbdir/ -c $HOME/tx_exact_uniprot_matches.AKT1_CRLF2_FGFR1.txt  \
    -v /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/f909c483-967c-409a-b2fb-bbdfeca5ab9f/call-M2Pair/M2.Mutect2/5b551b6a-86de-4765-8eac-2be7f4552213/call-FilterByOrientationBias/NGB0-075-KOD-NEB-18-2.b37-filtered.vcf NGB0-075-KOD-NEB-18-2.maf.annotated hg19 -i VCF -o TCGAMAF --skip-no-alt --collapse-number-annotations --log_name oncotator.log \
    -a Center:BI \
    -a source:Unknown \
    -a normal_barcode: \
    -a tumor_barcode:NGB0-075-KOD-NEB-18-2 \
     \
     --collapse-filter-cols --prune-filter-cols  \`
2018-10-12 22:25:29,705 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:3]: job id: operations/ELqR0MPmLBix4pDmv4KTkGUgyJGInf8LKg9wcm9kdWN0aW9uUXVldWU
2018-10-12 22:25:59,131 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:3]: Status change from - to Running
2018-10-12 22:59:59,030 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:3]: Status change from Running to Failed
2018-10-12 23:00:04,721 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Retrying job execution for Mutect2.oncotate_m2:NA:4
2018-10-12 23:00:05,355 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Starting Mutect2.oncotate_m2
2018-10-12 23:00:05,629 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:4]: `# fail if *any* command below (not just the last) doesn't return 0, in particular if wget fails
set -e

# local db dir is a directory and has been specified
if [[ -d "" ]]; then
    echo "Using local db-dir: "
    echo "THIS ONLY WORKS WITHOUT DOCKER!"
    ln -s  onco_dbdir
elif [[ "" == *.tar.gz ]]; then
    echo "Using given tar file: "
    mkdir onco_dbdir
    tar zxvf  -C onco_dbdir --strip-components 1
else
    echo "Downloading and installing oncotator datasources from Broad FTP site..."
    # Download and untar the db-dir
    wget ftp://gsapubftp-anonymous@ftp.broadinstitute.org/bundle/oncotator/oncotator_v1_ds_April052016.tar.gz
    tar zxvf oncotator_v1_ds_April052016.tar.gz
    ln -s oncotator_v1_ds_April052016 onco_dbdir
fi

/root/oncotator_venv/bin/oncotator --db-dir onco_dbdir/ -c $HOME/tx_exact_uniprot_matches.AKT1_CRLF2_FGFR1.txt  \
    -v /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/f909c483-967c-409a-b2fb-bbdfeca5ab9f/call-M2Pair/M2.Mutect2/5b551b6a-86de-4765-8eac-2be7f4552213/call-FilterByOrientationBias/NGB0-075-KOD-NEB-18-2.b37-filtered.vcf NGB0-075-KOD-NEB-18-2.maf.annotated hg19 -i VCF -o TCGAMAF --skip-no-alt --collapse-number-annotations --log_name oncotator.log \
    -a Center:BI \
    -a source:Unknown \
    -a normal_barcode: \
    -a tumor_barcode:NGB0-075-KOD-NEB-18-2 \
     \
     --collapse-filter-cols --prune-filter-cols  \`
2018-10-12 23:00:34,708 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:4]: job id: operations/EJ7i0MTmLBiZ5fXymOCOg0MgyJGInf8LKg9wcm9kdWN0aW9uUXVldWU
2018-10-12 23:01:06,455 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:4]: Status change from - to Running
2018-10-12 23:24:32,045 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:4]: Status change from Running to Failed
2018-10-12 23:24:34,722 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Retrying job execution for Mutect2.oncotate_m2:NA:5
2018-10-12 23:24:35,006 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Starting Mutect2.oncotate_m2
2018-10-12 23:24:35,627 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:5]: `# fail if *any* command below (not just the last) doesn't return 0, in particular if wget fails
set -e

# local db dir is a directory and has been specified
if [[ -d "" ]]; then
    echo "Using local db-dir: "
    echo "THIS ONLY WORKS WITHOUT DOCKER!"
    ln -s  onco_dbdir
elif [[ "" == *.tar.gz ]]; then
    echo "Using given tar file: "
    mkdir onco_dbdir
    tar zxvf  -C onco_dbdir --strip-components 1
else
    echo "Downloading and installing oncotator datasources from Broad FTP site..."
    # Download and untar the db-dir
    wget ftp://gsapubftp-anonymous@ftp.broadinstitute.org/bundle/oncotator/oncotator_v1_ds_April052016.tar.gz
    tar zxvf oncotator_v1_ds_April052016.tar.gz
    ln -s oncotator_v1_ds_April052016 onco_dbdir
fi

/root/oncotator_venv/bin/oncotator --db-dir onco_dbdir/ -c $HOME/tx_exact_uniprot_matches.AKT1_CRLF2_FGFR1.txt  \
    -v /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/f909c483-967c-409a-b2fb-bbdfeca5ab9f/call-M2Pair/M2.Mutect2/5b551b6a-86de-4765-8eac-2be7f4552213/call-FilterByOrientationBias/NGB0-075-KOD-NEB-18-2.b37-filtered.vcf NGB0-075-KOD-NEB-18-2.maf.annotated hg19 -i VCF -o TCGAMAF --skip-no-alt --collapse-number-annotations --log_name oncotator.log \
    -a Center:BI \
    -a source:Unknown \
    -a normal_barcode: \
    -a tumor_barcode:NGB0-075-KOD-NEB-18-2 \
     \
     --collapse-filter-cols --prune-filter-cols  \`
2018-10-12 23:25:09,714 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:5]: job id: operations/EPrTqsXmLBihprS59o-bs-cBIMiRiJ3_CyoPcHJvZHVjdGlvblF1ZXVl
2018-10-12 23:25:39,368 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:5]: Status change from - to Running
2018-10-12 23:59:06,316 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:5]: Status change from Running to Failed
2018-10-12 23:59:09,724 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Retrying job execution for Mutect2.oncotate_m2:NA:6
2018-10-12 23:59:10,585 INFO  - 5b551b6a-86de-4765-8eac-2be7f4552213-SubWorkflowActor-SubWorkflow-M2Pair:-1:1 [UUID(5b551b6a)]: Starting Mutect2.oncotate_m2
2018-10-12 23:59:10,627 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:6]: `# fail if *any* command below (not just the last) doesn't return 0, in particular if wget fails
set -e

# local db dir is a directory and has been specified
if [[ -d "" ]]; then
    echo "Using local db-dir: "
    echo "THIS ONLY WORKS WITHOUT DOCKER!"
    ln -s  onco_dbdir
elif [[ "" == *.tar.gz ]]; then
    echo "Using given tar file: "
    mkdir onco_dbdir
    tar zxvf  -C onco_dbdir --strip-components 1
else
    echo "Downloading and installing oncotator datasources from Broad FTP site..."
    # Download and untar the db-dir
    wget ftp://gsapubftp-anonymous@ftp.broadinstitute.org/bundle/oncotator/oncotator_v1_ds_April052016.tar.gz
    tar zxvf oncotator_v1_ds_April052016.tar.gz
    ln -s oncotator_v1_ds_April052016 onco_dbdir
fi

/root/oncotator_venv/bin/oncotator --db-dir onco_dbdir/ -c $HOME/tx_exact_uniprot_matches.AKT1_CRLF2_FGFR1.txt  \
    -v /cromwell_root/ngb_cloud/cromwell-execution/FullPipeline/f909c483-967c-409a-b2fb-bbdfeca5ab9f/call-M2Pair/M2.Mutect2/5b551b6a-86de-4765-8eac-2be7f4552213/call-FilterByOrientationBias/NGB0-075-KOD-NEB-18-2.b37-filtered.vcf NGB0-075-KOD-NEB-18-2.maf.annotated hg19 -i VCF -o TCGAMAF --skip-no-alt --collapse-number-annotations --log_name oncotator.log \
    -a Center:BI \
    -a source:Unknown \
    -a normal_barcode: \
    -a tumor_barcode:NGB0-075-KOD-NEB-18-2 \
     \
     --collapse-filter-cols --prune-filter-cols  \`
2018-10-12 23:59:44,715 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:6]: job id: operations/EKekqcbmLBiXk8LOoefr5H0gyJGInf8LKg9wcm9kdWN0aW9uUXVldWU
2018-10-13 00:00:14,047 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:6]: Status change from - to Running
2018-10-13 00:34:13,829 INFO  - PipelinesApiAsyncBackendJobExecutionActor [UUID(5b551b6a)Mutect2.oncotate_m2:NA:6]: Status change from Running to Failed
